{% extends 'base.html' %}
{% block content %}

<div class="container" style="min-height:calc(100vh - 120px); display:grid; place-items:center; padding-top:40px; padding-bottom:40px">
  <div class="card" style="width:min(520px, 100%); padding:24px; box-shadow:0 20px 50px rgba(0,0,0,.35)">
    <h2 style="margin:0 0 .25rem 0; text-align:center">Website Design Analyzer</h2>
    <p class="kpi-sub" style="margin:0 0 1rem 0; text-align:center">

    <!-- Logo centrado arriba -->
    <div style="display:grid; place-items:center; margin-bottom:.5rem">
      <img src="{{ url_for('static', filename='logo.svg') }}" alt="Logo" style="width:80px; height:80px; display:block">
    </div>

    <!-- Google Sign-In -->
    <a class="btn-google" href="{{ url_for('google_auth') }}" style="width:100%; margin-bottom:12px">
      <span class="g-logo" aria-hidden="true">
        <svg viewBox="0 0 48 48" width="20" height="20">
          <path fill="#EA4335" d="M24 9.5c3.54 0 6.72 1.22 9.23 3.6l6.9-6.9C35.9 2.45 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l8.06 6.26C12.44 13.38 17.76 9.5 24 9.5z"/>
          <path fill="#4285F4" d="M46.5 24.5c0-1.57-.14-3.08-.41-4.5H24v9h12.7c-.55 2.97-2.22 5.49-4.72 7.18l7.2 5.59C43.86 37.66 46.5 31.51 46.5 24.5z"/>
          <path fill="#FBBC05" d="M10.62 27.98a14.47 14.47 0 0 1-.76-4.48c0-1.56.27-3.07.76-4.48l-8.06-6.26A23.93 23.93 0 0 0 0 23.5c0 3.86.92 7.5 2.56 10.74l8.06-6.26z"/>
          <path fill="#34A853" d="M24 47c6.47 0 11.91-2.13 15.87-5.77l-7.2-5.59c-2 1.35-4.56 2.15-8.67 2.15-6.24 0-11.56-3.88-13.38-9.48l-8.06 6.26C6.51 42.62 14.62 47 24 47z"/>
        </svg>
      </span>
      <span>Sign in with Google</span>
    </a>

    <form action="{{ url_for('do_login') }}" method="post" style="display:grid; gap:.75rem">
      <div>
        <label>Email</label>
        <input class="input" type="email" name="email" placeholder="admin@example.com" required>
      </div>
      <div>
        <label>Password</label>
        <input class="input" type="password" name="password" placeholder="••••••••" required>
      </div>
      <button class="btn" type="submit" style="width:100%">Sign in</button>
    </form>

    <div class="auth-links">
      <a href="{{ url_for('register') }}">Create account</a>
      <span>•</span>
      <a href="{{ url_for('forgot') }}">Forgot password?</a>
      <span>•</span>
      <a href="tel:{{ (config.get('SUPPORT_PHONE') if config else None) or (SUPPORT_PHONE if SUPPORT_PHONE is defined else '+573145229832') }}">Call support</a>
    </div>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="card" style="margin-top:12px; padding:12px">
          {% for m in messages %}<div>{{ m }}</div>{% endfor %}
        </div>
      {% endif %}
    {% endwith %}
  </div>
</div>

{% endblock %}
